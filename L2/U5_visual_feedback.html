<html>
  <head>
    <title>DOM 常用內建語法</title>
    <script>
    
    auto_generate_id = 0;
    
    function createTextOnBlock() {

      var node = document.createElement("div");
      var content = document.getElementById("content").value;

      if( content == "" ){
        content = "廢文一篇";
      }
      
      node.id = auto_generate_id;
      node.innerHTML = content + " <button onclick='replaceTextOnBlock("+ auto_generate_id +")'>replace</><button onclick='removeTextOnBlock("+ auto_generate_id +")'>delete</button>";

      auto_generate_id++;

      document.getElementById("block").appendChild(node);
      document.getElementById("content").value = "";
    }

    function replaceTextOnBlock(id) {

      var newnode = document.createElement("div");
      var node = document.getElementById(id);

      var content = document.getElementById("content").value;

      if( content == "" ){
        alert("你並沒有輸入任何訊息");
        return;
      }

      newnode.innerHTML = content + "<button onclick='replaceTextOnBlock("+ node.id +")'>replace</><button onclick='removeTextOnBlock("+ node.id +")'>delete</button>";

      newnode.id = node.id;

      document.getElementById("block").replaceChild(newnode,node);
      document.getElementById("content").value = "";
    }

    function removeTextOnBlock(id) {

      var node = document.getElementById(id);
      document.getElementById("block").removeChild(node);
    }

    </script>
  </head>
  <body>  
    <input type="text" id="content">  
    <button onclick="createTextOnBlock()">Create element</button>

    <div id="block">
    </div>
    <br>
    <br>
    <br>
    <div style="margin:0px auto;padding-left: 40px; border:2px solid #ccc;border-radius: 15px; width:640px">
      <h2>   - 請用 Google Chrome 開啟這個檔案</h2>
      <h2>   - 請按下滑鼠右鍵，點擊「Inspect」或「檢查」</h2>
      <h2>   - 請點選 Console 觀看執行的的 JavaScript 程式碼結果</h2>
    </div>
  </body>
</html>